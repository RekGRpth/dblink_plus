\c contrib_regression_utf8
-- translate(text,text,text) char_b
EXPLAIN (COSTS FALSE) 
WITH ft_char_b AS (SELECT id, val1 FROM ft_char_b)
SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'あいう', 'アイウ') = 'アイウイア' ORDER BY id;
                                           QUERY PLAN                                           
------------------------------------------------------------------------------------------------
 Sort
   Sort Key: ft_char_b.id
   CTE ft_char_b
     ->  Foreign Scan on ft_char_b
           Remote SQL: SELECT "id", "val1", NULL FROM "oracle_fdw"."t_char_b"
   ->  CTE Scan on ft_char_b
         Filter: (translate((val1)::text, 'あいう'::text, 'アイウ'::text) = 'アイウイア'::text)
(7 rows)

EXPLAIN (COSTS FALSE) 
SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'あいう', 'アイウ') = 'アイウイア' ORDER BY id;
                                                                  QUERY PLAN                                                                  
----------------------------------------------------------------------------------------------------------------------------------------------
 Sort
   Sort Key: id
   ->  Foreign Scan on ft_char_b
         Remote SQL: SELECT "id", "val1", NULL FROM "oracle_fdw"."t_char_b" WHERE (TRANSLATE(RTRIM("val1"),'あいう','アイウ') = 'アイウイア')
(4 rows)

WITH ft_char_b AS (SELECT id, val1 FROM ft_char_b)
SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'あいう', 'アイウ') = 'アイウイア' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'あいう', 'アイウ') = 'アイウイア' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

WITH ft_char_b AS (SELECT id, val1 FROM ft_char_b)
SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'あ', 'アイウ') = 'アいういア' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'あ', 'アイウ') = 'アいういア' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

WITH ft_char_b AS (SELECT id, val1 FROM ft_char_b)
SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'あい', 'ア') = 'アうア' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'あい', 'ア') = 'アうア' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

WITH ft_char_b AS (SELECT id, val1 FROM ft_char_b)
SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'ういあ', 'ABC') = 'CBABC' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'ういあ', 'ABC') = 'CBABC' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

WITH ft_char_b AS (SELECT id, val1 FROM ft_char_b)
SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'abcde', 'アイウ') = 'アイウイア' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
----+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  3 | abcba                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'abcde', 'アイウ') = 'アイウイア' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
----+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  3 | abcba                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

WITH ft_char_b AS (SELECT id, val1 FROM ft_char_b)
SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'うaい', 'AあB') = 'あBABあ' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'うaい', 'AあB') = 'あBABあ' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

WITH ft_char_b AS (SELECT id, val1 FROM ft_char_b)
SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'ああいいうう', 'ABCDEF') = 'ACECA' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'ああいいうう', 'ABCDEF') = 'ACECA' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

-- NG case
WITH ft_char_b AS (SELECT id, val1 FROM ft_char_b)
SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'あい', '') = 'う' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'あい', '') = 'う' ORDER BY id;
 id | val1 
----+------
(0 rows)

-- NG case
WITH ft_char_b AS (SELECT id, val1 FROM ft_char_b)
SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'あい', '') IS NULL ORDER BY id;
 id | val1 
----+------
  1 | 
  2 | 
(2 rows)

SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'あい', '') IS NULL ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  1 | 
  2 | 
  3 | abcba                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  5 |  abcba                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  6 |  あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  7 |  ＡａＢｂＣｃ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
(7 rows)

-- NG case
WITH ft_char_b AS (SELECT id, val1 FROM ft_char_b)
SELECT id, val1 FROM ft_char_b WHERE translate(val1, '', 'アイウ') = 'あいういあ' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

SELECT id, val1 FROM ft_char_b WHERE translate(val1, '', 'アイウ') = 'あいういあ' ORDER BY id;
 id | val1 
----+------
(0 rows)

-- NG case
WITH ft_char_b AS (SELECT id, val1 FROM ft_char_b)
SELECT id, val1 FROM ft_char_b WHERE translate(val1, '', 'アイウ') IS NULL ORDER BY id;
 id | val1 
----+------
  1 | 
  2 | 
(2 rows)

SELECT id, val1 FROM ft_char_b WHERE translate(val1, '', 'アイウ') IS NULL ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  1 | 
  2 | 
  3 | abcba                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  5 |  abcba                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  6 |  あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  7 |  ＡａＢｂＣｃ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
(7 rows)

WITH ft_char_b AS (SELECT id, val1 FROM ft_char_b)
SELECT id, val1 FROM ft_char_b WHERE translate(val1, NULL, 'アイウ') IS NULL ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  1 | 
  2 | 
  3 | abcba                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  5 |  abcba                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  6 |  あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  7 |  ＡａＢｂＣｃ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
(7 rows)

SELECT id, val1 FROM ft_char_b WHERE translate(val1, NULL, 'アイウ') IS NULL ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  1 | 
  2 | 
  3 | abcba                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  5 |  abcba                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  6 |  あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  7 |  ＡａＢｂＣｃ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
(7 rows)

WITH ft_char_b AS (SELECT id, val1 FROM ft_char_b)
SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'あいう', NULL) IS NULL ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  1 | 
  2 | 
  3 | abcba                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  5 |  abcba                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  6 |  あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  7 |  ＡａＢｂＣｃ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
(7 rows)

SELECT id, val1 FROM ft_char_b WHERE translate(val1, 'あいう', NULL) IS NULL ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  1 | 
  2 | 
  3 | abcba                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  5 |  abcba                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  6 |  あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  7 |  ＡａＢｂＣｃ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
(7 rows)

WITH ft_char_b AS (SELECT id, val1 FROM ft_char_b)
SELECT id, val1 FROM ft_char_b WHERE translate('あいういあ', val1, 'アイウ') = 'アイウイア' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

SELECT id, val1 FROM ft_char_b WHERE translate('あいういあ', val1, 'アイウ') = 'アイウイア' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

WITH ft_char_b AS (SELECT id, val1 FROM ft_char_b)
SELECT id, val1 FROM ft_char_b WHERE translate('あ', val1, 'アイウ') = 'ア' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

SELECT id, val1 FROM ft_char_b WHERE translate('あ', val1, 'アイウ') = 'ア' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

WITH ft_char_b AS (SELECT id, val1 FROM ft_char_b)
SELECT id, val1 FROM ft_char_b WHERE translate('あ', val1, 'アイウエオカキクケコ') = 'ア' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

SELECT id, val1 FROM ft_char_b WHERE translate('あ', val1, 'アイウエオカキクケコ') = 'ア' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
(1 row)

-- NG case
WITH ft_char_b AS (SELECT id, val1 FROM ft_char_b)
SELECT id, val1 FROM ft_char_b WHERE translate('', val1, 'アイウエオカキクケコ') = '' ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  3 | abcba                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  5 |  abcba                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  6 |  あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  7 |  ＡａＢｂＣｃ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
(5 rows)

SELECT id, val1 FROM ft_char_b WHERE translate('', val1, 'アイウエオカキクケコ') = '' ORDER BY id;
 id | val1 
----+------
(0 rows)

-- NG case
WITH ft_char_b AS (SELECT id, val1 FROM ft_char_b)
SELECT id, val1 FROM ft_char_b WHERE translate('', val1, 'アイウエオカキクケコ') IS NULL ORDER BY id;
 id | val1 
----+------
  1 | 
  2 | 
(2 rows)

SELECT id, val1 FROM ft_char_b WHERE translate('', val1, 'アイウエオカキクケコ') IS NULL ORDER BY id;
 id |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          val1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
----+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  1 | 
  2 | 
  3 | abcba                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  4 | あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  5 |  abcba                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  6 |  あいういあ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  7 |  ＡａＢｂＣｃ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
(7 rows)

-- translate(text,text,text) varchar_c
EXPLAIN (COSTS FALSE) 
WITH ft_varchar2_c_text AS (SELECT id, val1 FROM ft_varchar2_c_text)
SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'あいう', 'アイウ') = 'アイウイア' ORDER BY id;
                                       QUERY PLAN                                       
----------------------------------------------------------------------------------------
 Sort
   Sort Key: ft_varchar2_c_text.id
   CTE ft_varchar2_c_text
     ->  Foreign Scan on ft_varchar2_c_text
           Remote SQL: SELECT "id", "val1", NULL FROM "oracle_fdw"."t_varchar2_c"
   ->  CTE Scan on ft_varchar2_c_text
         Filter: (translate(val1, 'あいう'::text, 'アイウ'::text) = 'アイウイア'::text)
(7 rows)

EXPLAIN (COSTS FALSE) 
SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'あいう', 'アイウ') = 'アイウイア' ORDER BY id;
                                                                QUERY PLAN                                                                 
-------------------------------------------------------------------------------------------------------------------------------------------
 Sort
   Sort Key: id
   ->  Foreign Scan on ft_varchar2_c_text
         Remote SQL: SELECT "id", "val1", NULL FROM "oracle_fdw"."t_varchar2_c" WHERE (TRANSLATE("val1",'あいう','アイウ') = 'アイウイア')
(4 rows)

WITH ft_varchar2_c_text AS (SELECT id, val1 FROM ft_varchar2_c_text)
SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'あいう', 'アイウ') = 'アイウイア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'あいう', 'アイウ') = 'アイウイア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

WITH ft_varchar2_c_text AS (SELECT id, val1 FROM ft_varchar2_c_text)
SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'あ', 'アイウ') = 'アいういア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'あ', 'アイウ') = 'アいういア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

WITH ft_varchar2_c_text AS (SELECT id, val1 FROM ft_varchar2_c_text)
SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'あい', 'ア') = 'アうア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'あい', 'ア') = 'アうア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

WITH ft_varchar2_c_text AS (SELECT id, val1 FROM ft_varchar2_c_text)
SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'ういあ', 'ABC') = 'CBABC' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'ういあ', 'ABC') = 'CBABC' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

WITH ft_varchar2_c_text AS (SELECT id, val1 FROM ft_varchar2_c_text)
SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'abcde', 'アイウ') = 'アイウイア' ORDER BY id;
 id | val1  
----+-------
  3 | abcba
(1 row)

SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'abcde', 'アイウ') = 'アイウイア' ORDER BY id;
 id | val1  
----+-------
  3 | abcba
(1 row)

WITH ft_varchar2_c_text AS (SELECT id, val1 FROM ft_varchar2_c_text)
SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'うaい', 'AあB') = 'あBABあ' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'うaい', 'AあB') = 'あBABあ' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

WITH ft_varchar2_c_text AS (SELECT id, val1 FROM ft_varchar2_c_text)
SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'ああいいうう', 'ABCDEF') = 'ACECA' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'ああいいうう', 'ABCDEF') = 'ACECA' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

-- NG case
WITH ft_varchar2_c_text AS (SELECT id, val1 FROM ft_varchar2_c_text)
SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'あい', '') = 'う' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'あい', '') = 'う' ORDER BY id;
 id | val1 
----+------
(0 rows)

-- NG case
WITH ft_varchar2_c_text AS (SELECT id, val1 FROM ft_varchar2_c_text)
SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'あい', '') IS NULL ORDER BY id;
 id | val1 
----+------
  1 | 
  2 | 
(2 rows)

SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'あい', '') IS NULL ORDER BY id;
 id |     val1      
----+---------------
  1 | 
  2 | 
  3 | abcba
  4 | あいういあ
  5 |  abcba
  6 |  あいういあ
  7 |  ＡａＢｂＣｃ
(7 rows)

-- NG case
WITH ft_varchar2_c_text AS (SELECT id, val1 FROM ft_varchar2_c_text)
SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, '', 'アイウ') = 'あいういあ' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, '', 'アイウ') = 'あいういあ' ORDER BY id;
 id | val1 
----+------
(0 rows)

-- NG case
WITH ft_varchar2_c_text AS (SELECT id, val1 FROM ft_varchar2_c_text)
SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, '', 'アイウ') IS NULL ORDER BY id;
 id | val1 
----+------
  1 | 
  2 | 
(2 rows)

SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, '', 'アイウ') IS NULL ORDER BY id;
 id |     val1      
----+---------------
  1 | 
  2 | 
  3 | abcba
  4 | あいういあ
  5 |  abcba
  6 |  あいういあ
  7 |  ＡａＢｂＣｃ
(7 rows)

WITH ft_varchar2_c_text AS (SELECT id, val1 FROM ft_varchar2_c_text)
SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, NULL, 'アイウ') IS NULL ORDER BY id;
 id |     val1      
----+---------------
  1 | 
  2 | 
  3 | abcba
  4 | あいういあ
  5 |  abcba
  6 |  あいういあ
  7 |  ＡａＢｂＣｃ
(7 rows)

SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, NULL, 'アイウ') IS NULL ORDER BY id;
 id |     val1      
----+---------------
  1 | 
  2 | 
  3 | abcba
  4 | あいういあ
  5 |  abcba
  6 |  あいういあ
  7 |  ＡａＢｂＣｃ
(7 rows)

WITH ft_varchar2_c_text AS (SELECT id, val1 FROM ft_varchar2_c_text)
SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'あいう', NULL) IS NULL ORDER BY id;
 id |     val1      
----+---------------
  1 | 
  2 | 
  3 | abcba
  4 | あいういあ
  5 |  abcba
  6 |  あいういあ
  7 |  ＡａＢｂＣｃ
(7 rows)

SELECT id, val1 FROM ft_varchar2_c_text WHERE translate(val1, 'あいう', NULL) IS NULL ORDER BY id;
 id |     val1      
----+---------------
  1 | 
  2 | 
  3 | abcba
  4 | あいういあ
  5 |  abcba
  6 |  あいういあ
  7 |  ＡａＢｂＣｃ
(7 rows)

WITH ft_varchar2_c_text AS (SELECT id, val1 FROM ft_varchar2_c_text)
SELECT id, val1 FROM ft_varchar2_c_text WHERE translate('あいういあ', val1, 'アイウ') = 'アイウイア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_varchar2_c_text WHERE translate('あいういあ', val1, 'アイウ') = 'アイウイア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

WITH ft_varchar2_c_text AS (SELECT id, val1 FROM ft_varchar2_c_text)
SELECT id, val1 FROM ft_varchar2_c_text WHERE translate('あ', val1, 'アイウ') = 'ア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_varchar2_c_text WHERE translate('あ', val1, 'アイウ') = 'ア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

WITH ft_varchar2_c_text AS (SELECT id, val1 FROM ft_varchar2_c_text)
SELECT id, val1 FROM ft_varchar2_c_text WHERE translate('あ', val1, 'アイウエオカキクケコ') = 'ア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_varchar2_c_text WHERE translate('あ', val1, 'アイウエオカキクケコ') = 'ア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

-- NG case
WITH ft_varchar2_c_text AS (SELECT id, val1 FROM ft_varchar2_c_text)
SELECT id, val1 FROM ft_varchar2_c_text WHERE translate('', val1, 'アイウエオカキクケコ') = '' ORDER BY id;
 id |     val1      
----+---------------
  3 | abcba
  4 | あいういあ
  5 |  abcba
  6 |  あいういあ
  7 |  ＡａＢｂＣｃ
(5 rows)

SELECT id, val1 FROM ft_varchar2_c_text WHERE translate('', val1, 'アイウエオカキクケコ') = '' ORDER BY id;
 id | val1 
----+------
(0 rows)

-- NG case
WITH ft_varchar2_c_text AS (SELECT id, val1 FROM ft_varchar2_c_text)
SELECT id, val1 FROM ft_varchar2_c_text WHERE translate('', val1, 'アイウエオカキクケコ') IS NULL ORDER BY id;
 id | val1 
----+------
  1 | 
  2 | 
(2 rows)

SELECT id, val1 FROM ft_varchar2_c_text WHERE translate('', val1, 'アイウエオカキクケコ') IS NULL ORDER BY id;
 id |     val1      
----+---------------
  1 | 
  2 | 
  3 | abcba
  4 | あいういあ
  5 |  abcba
  6 |  あいういあ
  7 |  ＡａＢｂＣｃ
(7 rows)

-- translate(text,text,text) nclob
EXPLAIN (COSTS FALSE) 
WITH ft_nclob_text AS (SELECT id, val1 FROM ft_nclob_text)
SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'あいう', 'アイウ') = 'アイウイア' ORDER BY id;
                                       QUERY PLAN                                       
----------------------------------------------------------------------------------------
 Sort
   Sort Key: ft_nclob_text.id
   CTE ft_nclob_text
     ->  Foreign Scan on ft_nclob_text
           Remote SQL: SELECT "id", "val1", NULL FROM "oracle_fdw"."t_nclob"
   ->  CTE Scan on ft_nclob_text
         Filter: (translate(val1, 'あいう'::text, 'アイウ'::text) = 'アイウイア'::text)
(7 rows)

EXPLAIN (COSTS FALSE) 
SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'あいう', 'アイウ') = 'アイウイア' ORDER BY id;
                                                              QUERY PLAN                                                              
--------------------------------------------------------------------------------------------------------------------------------------
 Sort
   Sort Key: id
   ->  Foreign Scan on ft_nclob_text
         Remote SQL: SELECT "id", "val1", NULL FROM "oracle_fdw"."t_nclob" WHERE (TRANSLATE("val1",'あいう','アイウ') = 'アイウイア')
(4 rows)

WITH ft_nclob_text AS (SELECT id, val1 FROM ft_nclob_text)
SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'あいう', 'アイウ') = 'アイウイア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'あいう', 'アイウ') = 'アイウイア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

WITH ft_nclob_text AS (SELECT id, val1 FROM ft_nclob_text)
SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'あ', 'アイウ') = 'アいういア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'あ', 'アイウ') = 'アいういア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

WITH ft_nclob_text AS (SELECT id, val1 FROM ft_nclob_text)
SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'あい', 'ア') = 'アうア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'あい', 'ア') = 'アうア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

WITH ft_nclob_text AS (SELECT id, val1 FROM ft_nclob_text)
SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'ういあ', 'ABC') = 'CBABC' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'ういあ', 'ABC') = 'CBABC' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

WITH ft_nclob_text AS (SELECT id, val1 FROM ft_nclob_text)
SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'abcde', 'アイウ') = 'アイウイア' ORDER BY id;
 id | val1  
----+-------
  3 | abcba
(1 row)

SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'abcde', 'アイウ') = 'アイウイア' ORDER BY id;
 id | val1  
----+-------
  3 | abcba
(1 row)

WITH ft_nclob_text AS (SELECT id, val1 FROM ft_nclob_text)
SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'うaい', 'AあB') = 'あBABあ' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'うaい', 'AあB') = 'あBABあ' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

WITH ft_nclob_text AS (SELECT id, val1 FROM ft_nclob_text)
SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'ああいいうう', 'ABCDEF') = 'ACECA' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'ああいいうう', 'ABCDEF') = 'ACECA' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

-- NG case
WITH ft_nclob_text AS (SELECT id, val1 FROM ft_nclob_text)
SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'あい', '') = 'う' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'あい', '') = 'う' ORDER BY id;
 id | val1 
----+------
(0 rows)

-- NG case
WITH ft_nclob_text AS (SELECT id, val1 FROM ft_nclob_text)
SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'あい', '') IS NULL ORDER BY id;
 id | val1 
----+------
  1 | 
  2 | 
(2 rows)

SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'あい', '') IS NULL ORDER BY id;
 id |     val1      
----+---------------
  1 | 
  2 | 
  3 | abcba
  4 | あいういあ
  5 |  abcba
  6 |  あいういあ
  7 |  ＡａＢｂＣｃ
(7 rows)

-- NG case
WITH ft_nclob_text AS (SELECT id, val1 FROM ft_nclob_text)
SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, '', 'アイウ') = 'あいういあ' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, '', 'アイウ') = 'あいういあ' ORDER BY id;
 id | val1 
----+------
(0 rows)

-- NG case
WITH ft_nclob_text AS (SELECT id, val1 FROM ft_nclob_text)
SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, '', 'アイウ') IS NULL ORDER BY id;
 id | val1 
----+------
  1 | 
  2 | 
(2 rows)

SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, '', 'アイウ') IS NULL ORDER BY id;
 id |     val1      
----+---------------
  1 | 
  2 | 
  3 | abcba
  4 | あいういあ
  5 |  abcba
  6 |  あいういあ
  7 |  ＡａＢｂＣｃ
(7 rows)

WITH ft_nclob_text AS (SELECT id, val1 FROM ft_nclob_text)
SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, NULL, 'アイウ') IS NULL ORDER BY id;
 id |     val1      
----+---------------
  1 | 
  2 | 
  3 | abcba
  4 | あいういあ
  5 |  abcba
  6 |  あいういあ
  7 |  ＡａＢｂＣｃ
(7 rows)

SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, NULL, 'アイウ') IS NULL ORDER BY id;
 id |     val1      
----+---------------
  1 | 
  2 | 
  3 | abcba
  4 | あいういあ
  5 |  abcba
  6 |  あいういあ
  7 |  ＡａＢｂＣｃ
(7 rows)

WITH ft_nclob_text AS (SELECT id, val1 FROM ft_nclob_text)
SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'あいう', NULL) IS NULL ORDER BY id;
 id |     val1      
----+---------------
  1 | 
  2 | 
  3 | abcba
  4 | あいういあ
  5 |  abcba
  6 |  あいういあ
  7 |  ＡａＢｂＣｃ
(7 rows)

SELECT id, val1 FROM ft_nclob_text WHERE translate(val1, 'あいう', NULL) IS NULL ORDER BY id;
 id |     val1      
----+---------------
  1 | 
  2 | 
  3 | abcba
  4 | あいういあ
  5 |  abcba
  6 |  あいういあ
  7 |  ＡａＢｂＣｃ
(7 rows)

WITH ft_nclob_text AS (SELECT id, val1 FROM ft_nclob_text)
SELECT id, val1 FROM ft_nclob_text WHERE translate('あいういあ', val1, 'アイウ') = 'アイウイア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_nclob_text WHERE translate('あいういあ', val1, 'アイウ') = 'アイウイア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

WITH ft_nclob_text AS (SELECT id, val1 FROM ft_nclob_text)
SELECT id, val1 FROM ft_nclob_text WHERE translate('あ', val1, 'アイウ') = 'ア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_nclob_text WHERE translate('あ', val1, 'アイウ') = 'ア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

WITH ft_nclob_text AS (SELECT id, val1 FROM ft_nclob_text)
SELECT id, val1 FROM ft_nclob_text WHERE translate('あ', val1, 'アイウエオカキクケコ') = 'ア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

SELECT id, val1 FROM ft_nclob_text WHERE translate('あ', val1, 'アイウエオカキクケコ') = 'ア' ORDER BY id;
 id |    val1    
----+------------
  4 | あいういあ
(1 row)

-- NG case
WITH ft_nclob_text AS (SELECT id, val1 FROM ft_nclob_text)
SELECT id, val1 FROM ft_nclob_text WHERE translate('', val1, 'アイウエオカキクケコ') = '' ORDER BY id;
 id |     val1      
----+---------------
  3 | abcba
  4 | あいういあ
  5 |  abcba
  6 |  あいういあ
  7 |  ＡａＢｂＣｃ
(5 rows)

SELECT id, val1 FROM ft_nclob_text WHERE translate('', val1, 'アイウエオカキクケコ') = '' ORDER BY id;
 id | val1 
----+------
(0 rows)

-- NG case
WITH ft_nclob_text AS (SELECT id, val1 FROM ft_nclob_text)
SELECT id, val1 FROM ft_nclob_text WHERE translate('', val1, 'アイウエオカキクケコ') IS NULL ORDER BY id;
 id | val1 
----+------
  1 | 
  2 | 
(2 rows)

SELECT id, val1 FROM ft_nclob_text WHERE translate('', val1, 'アイウエオカキクケコ') IS NULL ORDER BY id;
 id |     val1      
----+---------------
  1 | 
  2 | 
  3 | abcba
  4 | あいういあ
  5 |  abcba
  6 |  あいういあ
  7 |  ＡａＢｂＣｃ
(7 rows)

